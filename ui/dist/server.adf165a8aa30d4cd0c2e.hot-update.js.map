{"version":3,"sources":["webpack:///./src/IssueAddNavItem.jsx"],"names":["IssueAddNavItem","React","Component","constructor","state","showing","showModal","bind","hideModal","handleSubmit","setState","e","preventDefault","showError","props","form","document","forms","issueAdd","issue","owner","value","title","due","Date","getTime","query","data","graphQLFetch","history","push","id","render","user","signedIn","withToast","withRouter"],"mappings":"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","file":"server.adf165a8aa30d4cd0c2e.hot-update.js","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  NavItem,\n  Glyphicon,\n  Modal,\n  Form,\n  FormGroup,\n  FormControl,\n  ControlLabel,\n  Button,\n  ButtonToolbar,\n  Tooltip,\n  OverlayTrigger,\n} from \"react-bootstrap\";\nimport withToast from \"./withToast.jsx\";\n\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport Toast from \"./Toast.jsx\";\nclass IssueAddNavItem extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      showing: false,\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  showModal() {\n    this.setState({ showing: true });\n  }\n  hideModal() {\n    this.setState({ showing: false });\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    this.hideModal();\n    const { showError } = this.props;\n    const form = document.forms.issueAdd;\n    const issue = {\n      owner: form.owner.value,\n      title: form.title.value,\n      due: new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 10),\n    };\n    const query = `mutation issueAdd($issue:IssueInputs!){\n                  issueAdd(issue:$issue){\n                     id\n                   }\n                    }`;\n    const data = await graphQLFetch(query, { issue }, showError);\n    if (data) {\n      const { history } = this.props;\n      history.push(`/edit/${data.issueAdd.id}`);\n    }\n  }\n  render() {\n    const { showing } = this.state;\n    const {\n      user: { signedIn },\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <NavItem onClick={this.showModal} disabled={!signedIn}>\n          <OverlayTrigger\n            placement=\"left\"\n            delayShow={1000}\n            overlay={<Tooltip id=\"create-issue\">Create Issue</Tooltip>}\n          >\n            <Glyphicon glyph=\"plus\" />\n          </OverlayTrigger>\n        </NavItem>\n        <Modal keyboard show={showing} onHide={this.hideModal}>\n          <Modal.Header closeButton>\n            <Modal.Title>Create Issue</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form name=\"issueAdd\">\n              <FormGroup>\n                <ControlLabel>Title</ControlLabel>\n                <FormControl name=\"title\" autoFocus />\n              </FormGroup>\n              <FormGroup>\n                <ControlLabel>Owner</ControlLabel>\n                <FormControl name=\"owner\" autoFocus />\n              </FormGroup>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <ButtonToolbar>\n              <Button\n                type=\"button\"\n                bsStyle=\"primary\"\n                onClick={this.handleSubmit}\n              >\n                Submit\n              </Button>\n              <Button bsStyle=\"link\" onClick={this.hideModal}>\n                Cancel\n              </Button>\n            </ButtonToolbar>\n          </Modal.Footer>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\nexport default withToast(withRouter(IssueAddNavItem));\n"],"sourceRoot":""}